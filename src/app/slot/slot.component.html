<h1>{{isNew ? 'Add event' : 'Edit event'}}</h1>
<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-6 offset-md-3">
      <form #theForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="col s12 m4">
          <mat-form-field>
            <input matInput placeholder="Event title" [(ngModel)]="model.title" name="title" required>
          </mat-form-field>
        </div>
        <div class="col s12 m4">
          <amb-datepicker placeholder="Choose a date" [(value)]="model.date" [required]="true"></amb-datepicker>
        </div>
        <div class="col s12 m4">
          <amb-timepicker [min]="6" [max]="18" placeholder="Starting time" [(value)]="model.timeFrom" [required]="true"></amb-timepicker>
        </div>
        <div class="col s12 m4">
          <amb-timepicker [min]="8" [max]="20" placeholder="Ending time" [(value)]="model.timeTo" [required]="true"></amb-timepicker>
        </div>
        <div class="col s12 m4">
          <amb-agepicker [min]="2" [max]="5" placeholder="Age from" [(value)]="model.ageFrom"></amb-agepicker>
        </div>
        <div class="col s12 m4">
          <amb-agepicker [min]="2" [max]="6" placeholder="Age to" [(value)]="model.ageTo"></amb-agepicker>
        </div>
        <div class="col s12 m4">
            <!-- <amb-select [options]="siteOptions" [(value)]="model.location"></amb-select> -->
            <mat-form-field>
              <label>Site address</label>
                <mat-select [placeholder]="Site" [(ngModel)]="siteId" name="location" required>
                  <mat-option *ngFor="let site of sites" [value]="site.id">
                    {{site.name + " - " + site.location.address}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
          </div>
        <div class="col s12">
          <mat-form-field>
            <textarea matInput placeholder="Description" [(ngModel)]="model.description" name="description"></textarea>
          </mat-form-field>
        </div>

        <div class="col s12 m4">
          <mat-form-field>
            <mat-select placeholder="Capping" [(ngModel)]="model.capping" name="capping">
              <mat-option value="-1">--</mat-option>
              <mat-option value="2">2</mat-option>
              <mat-option value="3">3</mat-option>
              <mat-option value="4">4</mat-option>
              <mat-option value="5">5</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col s12 m4">
          <mat-form-field>
            <input matInput placeholder="Price" [(ngModel)]="model.price" name="price">
          </mat-form-field>
        </div>
        <div class="col s12">
          <label>Images</label>
          <amb-image-uploader [(imageNames)]="model.imageNames" (uploadFinished)="onUploadFinished($event)"></amb-image-uploader>
        </div>
        <div class="row">
        <div class="col s12">
          <button type="submit" class="btn amb-block" [disabled]="!theForm.form.valid">{{isNew ? 'Add' : 'Save'}}</button>
        </div>
      </div>
      </form>
    </div>
  </div>
</div>

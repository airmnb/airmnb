<div class="container">
  <h1>{{'Search result' | translate}}</h1>
  <div class="row">
    <div class="col s12 l3">
      <button class="btn amb-block" routerLink="/">
        <i class="fa fa-sliders" aria-hidden="true"></i>
        {{'Filter' | translate}}
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col s12">
      <amb-map-search [slots]="slots"></amb-map-search>

      <!-- <amb-loading *ngIf="!isMapReady"></amb-loading>
      <agm-map *ngIf="isGoogleMapReady" class="amb-search-map" [longitude]="centerLongitude" [latitude]="centerLatitude" [zoom]="16">
        <agm-marker *ngFor="let slot of slots; let i = index" [longitude]="slot.location.location.coordinates[0]" [latitude]="slot.location.location.coordinates[1]"
          [label]="(i + 1) + ''">
          <agm-info-window>
            <strong>{{slot.title}}</strong>
            <small>Start: {{slot.start | date:'medium'}}</small>
            <br>
            <a (click)="book(slot);false;">Click to book</a>
          </agm-info-window>
        </agm-marker>
      </agm-map>
      <ngx-amap *ngIf="isGaodeMapReady" [resizeEnable]="true" class="amb-search-map" [center]="[centerLongitude, centerLatitude]" [zoom]="16">
        <amap-marker *ngFor="let slot of slots; let i = index" [position]="slot.location.location.coordinates" [label]="{offset: {x:20, y:0}, content: (i+1).toString()}">
          <amap-info-window [offset]="infoWindowOffset">
            <strong>{{slot.title}}</strong>
            <small>{{'Start'|translate}}: {{slot.start | date:'medium'}}</small>
            <br>
            <a (click)="book(slot);false;">{{'Click to book' | translate}}</a>
          </amap-info-window>
        </amap-marker>
      </ngx-amap> -->
    </div>
  </div>
  <div class="row">
    <div class="col s6 m4 l3" *ngFor="let slot of slots; let i = index">
      <mat-card (click)="book(slot)">
        <div>
          <strong>
            <i class="fa fa-map-marker" aria-hidden="true"></i> {{i + 1}}</strong>
        </div>

        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title>{{slot.title}}</mat-card-title>
          <mat-card-subtitle>{{slot.start | date:'medium'}} - {{slot.end | date:'shortTime'}}</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image [src]="getImageUrl(slot)" alt="Photo of this event">
        <mat-card-content>
          <p>
            <!-- {{displayGender(slot.gender)}} {{slot.ageFrom}} - {{slot.ageTo}} {{displayTime(slot)}} {{slot.price | currency}} {{slot.otherCondition}} -->
            {{slot.bookingCount}} / {{slot.capping}}
          </p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>

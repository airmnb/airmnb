<h1>Transaction management</h1>
<!-- <div class="container">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Status</th>
        <th>Baby</th>
        <th>Started at</th>
        <th>Photo at started by provider</th>
        <th>Photo at started by consumer</th>
        <th>Ended at</th>
        <th>Photo at ended by provider</th>
        <th>Photo at ended by consumer</th>
        <th>Cost</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items">
        <td>{{item.status}}</td>
        <td>{{item.nickName}}</td>
        <td>{{item.startedAt | date:'medium'}}</td>
        <td><img [src]="getImageUrl(item.startedImageNameByProvider)" class="img-thumbnail" alt="image"></td>
        <td><img [src]="getImageUrl(item.startedImageNameByConsumer)" class="img-thumbnail" alt="image"></td>
        <td>{{(item.finishedAt || item.terminatedAt) | date:'medium'}}</td>
        <td><img [src]="getImageUrl(item.doneImageNameByProvider)" class="img-thumbnail" alt="image"></td>
        <td><img [src]="getImageUrl(item.doneImageNameByConsumer)" class="img-thumbnail" alt="image"></td>
        <td *ngIf="!item.cost">Free event</td>
        <td *ngIf="item.cost">{{ item.cost | currency}}</td>
      </tr>
    </tbody>
  </table>
</div> -->

<pre>{{items | json}}</pre>

<mat-tab-group class="container">
  <mat-tab>
    <ng-template mat-tab-label>
      Active
    </ng-template>
    <div>
      <mat-list>
        <mat-list-item class="waves-effect waves-light" *ngFor="let item of ongoingItems" [routerLink]="'/tran/' + item.id">
          <!-- <div>
              <h2 class="header">{{item.title}}</h2>
              <div class="card horizontal">
                <div class="card-image">
                  <amb-baby-avatar [baby]="item.baby"></amb-baby-avatar>
                </div>
                <div class="card-stacked">
                  <div class="card-content">
                      <p>Booked for: {{item.baby.nickName}}
                      <span *ngIf="session.isProvider && item.consumer" mat-line> by <a>{{item.consumer.firstName}} {{item.consumer.lastName}}</a></span>
                      </p>
                      <p mat-line> {{item.startedAt | date:'medium'}} </p>
                      <p mat-line> {{item.cost | currency}} </p>
                      <p *ngIf="session.isConsumer && item.provider" mat-line> Provided by <a>{{item.provider.firstName}} {{item.provider.lastName}}</a></p>

                    </div>
                  <div class="card-action">
                    <a href="#">This is a link</a>
                  </div>
                </div>
              </div>
            </div> -->

          <h3 mat-line>{{item.title}}</h3>
          <div mat-line *ngIf="item.baby">Booked for: <strong>{{item.baby.nickName}}</strong>
            <span *ngIf="session.isProvider && item.consumer" mat-line> by <a>{{item.consumer.firstName}} {{item.consumer.lastName}}</a></span>
            <!-- <amb-baby-avatar class="right" [baby]="item.baby"></amb-baby-avatar> -->
          </div>

          <p mat-line> {{item.startedAt | date:'medium'}} </p>
          <p mat-line> {{item.cost | currency}} </p>
          <p *ngIf="session.isConsumer && item.provider" mat-line> Provided by <a>{{item.provider.firstName}} {{item.provider.lastName}}</a></p>
          <hr>
        </mat-list-item>
      </mat-list>
    </div>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      Closed
    </ng-template>
    <div>

    </div>
  </mat-tab>
</mat-tab-group>

<div *ngIf="!isComplete" class="container">
  <h1>Booking</h1>
  <mat-vertical-stepper #stepper [linear]="true">
    <mat-step>
      <form>
        <ng-template matStepLabel>
          <i class="fa fa-child" aria-hidden="true"></i> Choose baby
        </ng-template>
        <mat-form-field>
          <mat-select placeholder="Select baby" [(ngModel)]="theBaby" name="baby" required (ngModelChange)="goForward(stepper)">
            <mat-option routerLink="/babies/add">Add new baby</mat-option>
            <mat-option *ngFor="let baby of babies" [value]="baby">
              {{baby.nickName}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </form>
    </mat-step>
    <mat-step *ngIf="!isFreeEvent">
      <form>
        <ng-template matStepLabel>
          <i class="fa fa-credit-card" aria-hidden="true"></i> Payment method
        </ng-template>
        <p>Fake payment</p>
        <mat-form-field>
          <input matInput placeholder="Card number" required>
        </mat-form-field>
        <div>
          <button class="btn waves-effect waves-light amb-block" (click)="goForward(stepper)">OK</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>
        <i class="fa fa-shopping-cart" aria-hidden="true"></i> Confirm booking
      </ng-template>
      <div>
          <button class="btn waves-effect waves-light amb-block" (click)="onSubmit()">Book this event</button>
        </div>
      <div>
        <p *ngIf="slot">Price: {{slot.price}}</p>
        <p *ngIf="theBaby">For: {{theBaby.nickName}}</p>
        <p>
          <strong>Confirm the event content and click to book.</strong>
        </p>
      </div>

      <div>
        <amb-slot-display [slot]="slot"></amb-slot-display>
      </div>

    </mat-step>
  </mat-vertical-stepper>
</div>

<div class="container" *ngIf="isComplete">
  <h1>Thank you for your booking!</h1>
  <p>You can find your booking
      <i class="fa fa-external-link" aria-hidden="true"></i><a href="{{bookingLink}}" target="blank">{{bookingLink}}</a>
  </p>
  <div>
    <a matButton class="btn waves-effect waves-light amb-block" routerLink="/">OK</a>
  </div>
</div>

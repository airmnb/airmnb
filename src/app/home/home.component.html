<!-- Main jumbotron for a primary marketing message or call to action -->
<div class="amb-home-content">
  <!-- Search container -->
  <div class="container" *ngIf="!mapSearch">
    <h5>{{'Search events' | translate}}</h5>
    <div class="row">
      <div class="col s12">
        <amb-address-input [(address)]="model.location"></amb-address-input>
      </div>
      <div class="col s4">
        <mat-form-field>
          <mat-select placeholder="{{'Distance' | translate}}" [(ngModel)]="model.distance" name="distance">
            <mat-option value="0">--</mat-option>
            <mat-option value="1">1 {{'km' | translate}}</mat-option>
            <mat-option value="2">2 {{'km' | translate}}</mat-option>
            <mat-option value="5">5 {{'km' | translate}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col s4">
        <amb-select placeholder="{{'Baby age' | translate}}" [(value)]="model.age" [options]="ageOptions"></amb-select>
      </div>
      <div class="col s4">
        <mat-form-field>
          <mat-select placeholder="{{'Baby gender' | translate}}" [(ngModel)]="model.gender" name="gender">
            <mat-option value="-1">--</mat-option>
            <mat-option value="0">{{'Girl' | translate}}</mat-option>
            <mat-option value="1">{{'Boy' | translate}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col s4">
        <mat-form-field>
          <input matInput type="{ate" placeholder="{{'Choose a date' | translate}}" [(ngModel)]="model.date" name="date">
        </mat-form-field>
      </div>
      <div class="col s4">
        <mat-form-field>
          <input matInput type="time" step="1800" min="06:00" max="18:00" placeholder="{{'Starting time' | translate}}" [(ngModel)]="model.timeFrom"
            name="timeFrom">
        </mat-form-field>
      </div>
      <div class="col s4">
        <mat-form-field>
          <input matInput type="time" step="1800" min="08:00" max="20:00" placeholder="{{'Ending time' | translate}}" [(ngModel)]="model.timeTo"
            name="timeTo">
        </mat-form-field>
      </div>
      <div class="row">
        <div class="col s12">
          <button class="btn waves-effect waves-light amb-block" (click)="search();toggleMap()">
            <i class="fa fa-search" aria-hidden="true"></i>
            {{'Search' | translate}}
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Map contianer -->
  <div class="container amb-search-map" *ngIf="mapSearch">
    <amb-map-search [slots]="slots" (centerChange)="mapCenterChange($event)"></amb-map-search>
    <div class="button-map-filter">
        <button class="btn amb-block" (click)="toggleMap()">
          <i class="fa fa-sliders" aria-hidden="true"></i>
          {{'Filter' | translate}}
        </button>
      </div>
  </div>

  <!-- recommended container -->
  <div class="container" *ngIf="slots">
    <h5 i18n>{{'Recommended' | translate}}</h5>
    <div class="row">
      <div class="col s6 m4 l3" *ngFor="let slot of slots">
        <mat-card (click)="book(slot)">

          <img mat-card-image [src]="getImageUrl(slot)" alt="Photo of this event">
          <div class="amb-rating-stars yellow-text accent-3">
            <i class="fa fa-star" aria-hidden="true"></i>
            <i class="fa fa-star" aria-hidden="true"></i>
            <i class="fa fa-star" aria-hidden="true"></i>
            <i class="fa fa-star" aria-hidden="true"></i>
            <i class="fa fa-star" aria-hidden="true"></i>
          </div>
          <mat-card-header>
            <!-- <div mat-card-avatar class="example-header-image"></div> -->
            <mat-card-title>{{slot.title}}</mat-card-title>
            <mat-card-subtitle>
              <small>{{slot.start | date:'medium'}} - {{slot.end | date:'shortTime'}}</small>
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>
              {{displayGender(slot.gender) | translate}} {{slot.ageFrom}} - {{slot.ageTo}} {{slot.price | currency}} {{slot.otherCondition}}
            </p>
            <p>
              {{slot.bookingCount}} / {{slot.capping}}
            </p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
